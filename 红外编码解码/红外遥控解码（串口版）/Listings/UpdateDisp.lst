C51 COMPILER V9.00   UPDATEDISP                                                            09/03/2017 21:30:28 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE UPDATEDISP
OBJECT MODULE PLACED IN .\Objects\UpdateDisp.obj
COMPILER INVOKED BY: G:\Keil_v5\C51\BIN\C51.EXE SRC\UpdateDisp.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\SRC) DEBUG OBJECTEXTE
                    -ND PRINT(.\Listings\UpdateDisp.lst) OBJECT(.\Objects\UpdateDisp.obj)

line level    source

   1          
   2          #include "UpdateDisp.h"
   3          
   4          u16 xdata DispData_Tab[4][16];
   5          u8 idata Digit_Tab[16]={1,2,3,4,5,6,7,8,9,10,12,13,14,15,16};
   6          u8 idata DigitBig_Tab[11]={98,102,106,110,114,118,122,126,130,134,138};
   7          u8 idata Day_Tab[]={Dt_Yi1,Dt_Er1,Dt_San1,Dt_Si1,Dt_Wu1,Dt_Liu1,Dt_Ri1};
   8          u16 Flg_Select;
   9          #define EnSelectDisp(x)  {if(x)Flg_Select=0x8000;else Flg_Select=0x0000; }
  10          
  11          void UpdateDisp_SetTimer()
  12          {
  13   1      
  14   1              EnSelectDisp(0);
  15   1      //-----------------------------------------------------第一行   
  16   1      //      DispData_Tab[0][0 ]=Dt_Nao1|Flg_Select;
  17   1      //      DispData_Tab[0][1 ]=Dt_Nao2|Flg_Select;
  18   1      //      DispData_Tab[0][2 ]=Dt_Zhong1|Flg_Select;
  19   1      //      DispData_Tab[0][3 ]=Dt_Zhong2|Flg_Select;
  20   1      //      switch(R_SetTmMode)
  21   1      //      {
  22   1      //              case D_SetMode_Sec:
  23   1      //                              EnSelectDisp(0);
  24   1      //                      break;  
  25   1      //              case D_SetMode_Min:
  26   1      //                              EnSelectDisp(0);
  27   1      //                      break;  
  28   1      //              case D_SetMode_Hour:
  29   1      //                              EnSelectDisp(0);
  30   1      //                      break;  
  31   1      //              case D_SetMode_Data:
  32   1      //                              EnSelectDisp(0);
  33   1      //                      break;  
  34   1      //              case D_SetMode_Mon:
  35   1      //                              EnSelectDisp(0);
  36   1      //                      break;  
  37   1      //              case D_SetMode_Year:
  38   1      //                              EnSelectDisp(0);
  39   1      //                      break;
  40   1      //              case D_SetMode_Day:
  41   1      //                              EnSelectDisp(0);
  42   1      //                      break;  
  43   1      //              case D_SetMode_Quit:
  44   1      //                              EnSelectDisp(0);
  45   1      //                      break;                          
  46   1      //              default:                        
  47   1      //                      break;                                                                                                                                                                          
  48   1      //      }
  49   1              DispData_Tab[0][4 ]=Dt_Shi1|Flg_Select;    
  50   1              DispData_Tab[0][5 ]=Dt_Shi2|Flg_Select;    
  51   1              DispData_Tab[0][6 ]=Dt_Jian1|Flg_Select;   
  52   1              DispData_Tab[0][7 ]=Dt_Jian2|Flg_Select;   
  53   1              DispData_Tab[0][8 ]=Dt_She1|Flg_Select;  
  54   1              DispData_Tab[0][9 ]=Dt_She2|Flg_Select;  
C51 COMPILER V9.00   UPDATEDISP                                                            09/03/2017 21:30:28 PAGE 2   

  55   1              DispData_Tab[0][10]=Dt_SZhi1|Flg_Select; 
  56   1              DispData_Tab[0][11]=Dt_SZhi2|Flg_Select; 
  57   1      //      DispData_Tab[0][12]=Dt_Yi1|Flg_Select;
  58   1      //      DispData_Tab[0][13]=Dt_Yi2|Flg_Select;  
  59   1      //      DispData_Tab[0][14]=Dt_DGou1|Flg_Select;
  60   1      //      DispData_Tab[0][15]=Dt_DGou2|Flg_Select;
  61   1      //-----------------------------------------------------第二行   
  62   1              switch(R_SetTmMode)
  63   1              {
  64   2                      case D_SetMode_Hour:EnSelectDisp(1);
  65   2                              break;                                  
  66   2                      default:EnSelectDisp(0);                        
  67   2                              break;                                                                                                                                                                          
  68   2              }
  69   1              DispData_Tab[1][0 ]=Digit_Tab[time_buf1[4]/10]|Flg_Select;    
  70   1              DispData_Tab[1][1 ]=Digit_Tab[time_buf1[4]%10]|Flg_Select;
  71   1              EnSelectDisp(0);     
  72   1              DispData_Tab[1][2 ]=Dt_Shi1|Flg_Select;
  73   1              DispData_Tab[1][3 ]=Dt_Shi2|Flg_Select;
  74   1              switch(R_SetTmMode)
  75   1              {
  76   2                      case D_SetMode_Min:EnSelectDisp(1);
  77   2                              break;                                  
  78   2                      default:EnSelectDisp(0);                        
  79   2                              break;                                                                                                                                                                          
  80   2              }       
  81   1              DispData_Tab[1][4 ]=Digit_Tab[time_buf1[5]/10]|Flg_Select;    
  82   1              DispData_Tab[1][5 ]=Digit_Tab[time_buf1[5]%10]|Flg_Select;  
  83   1              EnSelectDisp(0);   
  84   1              DispData_Tab[1][6 ]=Dt_Fen1|Flg_Select;
  85   1              DispData_Tab[1][7 ]=Dt_Fen2|Flg_Select;
  86   1              switch(R_SetTmMode)
  87   1              {
  88   2                      case D_SetMode_Sec:EnSelectDisp(1);
  89   2                              break;                                  
  90   2                      default:EnSelectDisp(0);                        
  91   2                              break;                                                                                                                                                                          
  92   2              }       
  93   1              DispData_Tab[1][8 ]=Digit_Tab[time_buf1[6]/10]|Flg_Select;    
  94   1              DispData_Tab[1][9 ]=Digit_Tab[time_buf1[6]%10]|Flg_Select;  
  95   1              EnSelectDisp(0);   
  96   1              DispData_Tab[1][10]=Dt_Miao1|Flg_Select; 
  97   1              DispData_Tab[1][11]=Dt_Miao2|Flg_Select; 
  98   1      //      DispData_Tab[1][12]=Dt_Miao1|Flg_Select;
  99   1      //      DispData_Tab[1][13]=Dt_Yi2|Flg_Select;  
 100   1      //      DispData_Tab[1][14]=Dt_DGou1|Flg_Select;
 101   1      //      DispData_Tab[1][15]=Dt_DGou2|Flg_Select;
 102   1      //-----------------------------------------------------第三行   
 103   1              switch(R_SetTmMode)
 104   1              {
 105   2                      case D_SetMode_Year:EnSelectDisp(1);
 106   2                              break;                                  
 107   2                      default:EnSelectDisp(0);                        
 108   2                              break;                                                                                                                                                                          
 109   2              }
 110   1              DispData_Tab[2][0 ]=Digit_Tab[2]|Flg_Select;     
 111   1              DispData_Tab[2][1 ]=Digit_Tab[0]|Flg_Select;    
 112   1              DispData_Tab[2][2 ]=Digit_Tab[time_buf1[1]/10]|Flg_Select;     
 113   1              DispData_Tab[2][3 ]=Digit_Tab[time_buf1[1]%10]|Flg_Select;
 114   1              EnSelectDisp(0);      
 115   1              DispData_Tab[2][4 ]=Dt_Nian1|Flg_Select;
 116   1              DispData_Tab[2][5 ]=Dt_Nian2|Flg_Select;
C51 COMPILER V9.00   UPDATEDISP                                                            09/03/2017 21:30:28 PAGE 3   

 117   1              switch(R_SetTmMode)
 118   1              {
 119   2                      case D_SetMode_Mon:EnSelectDisp(1);
 120   2                              break;                                  
 121   2                      default:EnSelectDisp(0);                        
 122   2                              break;                                                                                                                                                                          
 123   2              }       
 124   1              DispData_Tab[2][6 ]=Digit_Tab[time_buf1[2]/10]|Flg_Select;     
 125   1              DispData_Tab[2][7 ]=Digit_Tab[time_buf1[2]%10]|Flg_Select; 
 126   1              EnSelectDisp(0);     
 127   1              DispData_Tab[2][8 ]=Dt_Yue1|Flg_Select;
 128   1              DispData_Tab[2][9 ]=Dt_Yue2|Flg_Select;
 129   1              switch(R_SetTmMode)
 130   1              {
 131   2                      case D_SetMode_Data:EnSelectDisp(1);
 132   2                              break;                                  
 133   2                      default:EnSelectDisp(0);                        
 134   2                              break;                                                                                                                                                                          
 135   2              }       
 136   1              DispData_Tab[2][10 ]=Digit_Tab[time_buf1[3]/10]|Flg_Select;     
 137   1              DispData_Tab[2][11 ]=Digit_Tab[time_buf1[3]%10]|Flg_Select; 
 138   1              EnSelectDisp(0);     
 139   1              DispData_Tab[2][12]=Dt_Ri1|Flg_Select;
 140   1              DispData_Tab[2][13]=Dt_Ri2|Flg_Select;
 141   1      //      DispData_Tab[2][12]=Dt_Yi1|Flg_Select;
 142   1      //      DispData_Tab[2][13]=Dt_Yi2|Flg_Select;  
 143   1      //      DispData_Tab[2][14]=Dt_DGou1|Flg_Select;
 144   1      //      DispData_Tab[2][15]=Dt_DGou2|Flg_Select;
 145   1      //-----------------------------------------------------第四行
 146   1              switch(R_SetTmMode)
 147   1              {
 148   2                      case D_SetMode_Day:EnSelectDisp(1);
 149   2                              break;                                  
 150   2                      default:EnSelectDisp(0);                        
 151   2                              break;                                                                                                                                                                          
 152   2              }       
 153   1              DispData_Tab[3][0 ]=Dt_Xing1|Flg_Select;
 154   1              DispData_Tab[3][1 ]=Dt_Xing2|Flg_Select;
 155   1              DispData_Tab[3][2 ]=Dt_Qi1|Flg_Select;
 156   1              DispData_Tab[3][3 ]=Dt_Qi2|Flg_Select;
 157   1              DispData_Tab[3][4 ]=Day_Tab[time_buf1[7]]|Flg_Select;     
 158   1              DispData_Tab[3][5 ]=Day_Tab[time_buf1[7]]+1|Flg_Select; 
 159   1              EnSelectDisp(0);    
 160   1      //      DispData_Tab[3][6 ]=Dt_She1|Flg_Select;
 161   1      //      DispData_Tab[3][7 ]=Dt_She2|Flg_Select;
 162   1      //      DispData_Tab[3][8 ]=Dt_SZhi1|Flg_Select;
 163   1      //      DispData_Tab[3][9 ]=Dt_SZhi2|Flg_Select;
 164   1      //      DispData_Tab[3][10]=Digit_Tab[1]|Flg_Select;
 165   1      ////    DispData_Tab[3][11]=|Flg_Select;
 166   1              switch(R_SetTmMode)
 167   1              {
 168   2                      case D_SetMode_Quit:EnSelectDisp(1);
 169   2                              break;                                  
 170   2                      default:EnSelectDisp(0);                        
 171   2                              break;                                                                                                                                                                          
 172   2              }
 173   1              DispData_Tab[3][12]=Dt_Tui1|Flg_Select;
 174   1              DispData_Tab[3][13]=Dt_Tui2|Flg_Select;
 175   1              DispData_Tab[3][14]=Dt_Chu1|Flg_Select;
 176   1              DispData_Tab[3][15]=Dt_Chu2|Flg_Select;
 177   1              
 178   1      
C51 COMPILER V9.00   UPDATEDISP                                                            09/03/2017 21:30:28 PAGE 4   

 179   1      //      if(Flg_500MsFlash)
 180   1      //              {
 181   1      //              return; 
 182   1      //              }                       
 183   1      }
 184          void UpdateDisp_GUI()
 185          {
 186   1              Flg_Select=0;
 187   1              
 188   1      //      DispData_Tab[0][0]=Dt_A;
 189   1      //      DispData_Tab[0][1]=Dt_A;
 190   1      //      DispData_Tab[0][2]=Dt_A;
 191   1      //      DispData_Tab[0][3]=Dt_A;
 192   1      //      DispData_Tab[0][4]=Dt_A;
 193   1      //      DispData_Tab[0][5]=Dt_MH;
 194   1              DispData_Tab[0][4]=Dt_Qing1;
 195   1              DispData_Tab[0][5]=Dt_Qing2;
 196   1              DispData_Tab[0][6]=Dt_Mang1;
 197   1              DispData_Tab[0][7]=Dt_Mang2;
 198   1              DispData_Tab[0][8]=Dt_Ke1;
 199   1              DispData_Tab[0][9]=Dt_Ke2;
 200   1              DispData_Tab[0][10]=Dt_Ji1;
 201   1              DispData_Tab[0][11]=Dt_Ji2;
 202   1      //      DispData_Tab[0][14]=Dt_b;
 203   1      //      DispData_Tab[0][15]=Dt_MH;
 204   1              
 205   1      //      DispData_Tab[1][0]=Dt_A;
 206   1      //      DispData_Tab[1][1]=Dt_A;
 207   1      //      DispData_Tab[1][2]=Dt_A;
 208   1      //      DispData_Tab[1][3]=Dt_A;
 209   1              DispData_Tab[1][4]=Dt_Ying1;
 210   1              DispData_Tab[1][5]=Dt_Ying2;
 211   1              DispData_Tab[1][6]=Dt_Pang1;
 212   1              DispData_Tab[1][7]=Dt_Pang2;
 213   1              DispData_Tab[1][8]=Dt_Shi1;
 214   1              DispData_Tab[1][9]=Dt_Shi2;
 215   1              DispData_Tab[1][10]=Dt_Zhong1;
 216   1              DispData_Tab[1][11]=Dt_Zhong2;
 217   1      //      DispData_Tab[1][13]=Dt_b;
 218   1      //      DispData_Tab[1][14]=Dt_b;
 219   1      //      DispData_Tab[1][11]=Dt_b;
 220   1      //      DispData_Tab[1][15]=Dt_MH;
 221   1              
 222   1              DispData_Tab[2][0]=Dt_Zhi1;
 223   1              DispData_Tab[2][1]=Dt_Zhi2;
 224   1              DispData_Tab[2][2]=Dt_Zuo1;
 225   1              DispData_Tab[2][3]=Dt_Zuo2;
 226   1              DispData_Tab[2][4]=Dt_MH;
 227   1              DispData_Tab[2][5]=Digit_Tab[2];
 228   1              DispData_Tab[2][6]=Digit_Tab[0];
 229   1              DispData_Tab[2][7]=Digit_Tab[1];
 230   1              DispData_Tab[2][8]=Digit_Tab[7];
 231   1              DispData_Tab[2][9]=Dt_XG;
 232   1              DispData_Tab[2][10]=Digit_Tab[0];
 233   1              DispData_Tab[2][11]=Digit_Tab[8];
 234   1              DispData_Tab[2][12]=Dt_XG;
 235   1              DispData_Tab[2][13]=Digit_Tab[9];
 236   1              DispData_Tab[2][14]=Digit_Tab[9];
 237   1      //      DispData_Tab[2][15]=Dt_MH;
 238   1              
 239   1              DispData_Tab[3][0]=66;
 240   1              DispData_Tab[3][1]=66;
C51 COMPILER V9.00   UPDATEDISP                                                            09/03/2017 21:30:28 PAGE 5   

 241   1              DispData_Tab[3][2]=66;
 242   1              DispData_Tab[3][3]=66;
 243   1              DispData_Tab[3][4]=66;
 244   1              DispData_Tab[3][5]=66;
 245   1              DispData_Tab[3][6]=66;
 246   1              DispData_Tab[3][7]=66;
 247   1              DispData_Tab[3][8]=66;
 248   1              DispData_Tab[3][9]=66;
 249   1              DispData_Tab[3][10]=66;
 250   1              DispData_Tab[3][11]=66;
 251   1              DispData_Tab[3][12]=66;
 252   1              DispData_Tab[3][13]=66;
 253   1              DispData_Tab[3][14]=66;
 254   1              DispData_Tab[3][15]=66;                         
 255   1      }
 256          /*--------------------------------------
 257          //------------模式选择页面显示------------------
 258          //一级菜单
 259          //
 260          --------------------------------------*/
 261          void UpdateDisp_SetPan()
 262          {
 263   1              Flg_Select=0;
 264   1      //-------------------------------------第一行   
 265   1      //      DispData_Tab[0][0 ]=Dt_Nao1|Flg_Select;
 266   1      //      DispData_Tab[0][1 ]=Dt_Nao2|Flg_Select;
 267   1      //      DispData_Tab[0][2 ]=Dt_Zhong1|Flg_Select;
 268   1      //      DispData_Tab[0][3 ]=Dt_Zhong2|Flg_Select;
 269   1      //      DispData_Tab[0][4 ]=Digit_Tab[1]|Flg_Select;
 270   1              DispData_Tab[0][4 ]=Dt_Mo1|Flg_Select;      
 271   1              DispData_Tab[0][5 ]=Dt_Mo2|Flg_Select;      
 272   1              DispData_Tab[0][6 ]=Dt_MShi1|Flg_Select;    
 273   1              DispData_Tab[0][7 ]=Dt_MShi2|Flg_Select;    
 274   1              DispData_Tab[0][8 ]=Dt_Xuan1|Flg_Select;    
 275   1              DispData_Tab[0][9 ]=Dt_Xuan2|Flg_Select;    
 276   1              DispData_Tab[0][10]=Dt_Ze1|Flg_Select;      
 277   1              DispData_Tab[0][11]=Dt_Ze2|Flg_Select;      
 278   1      //      DispData_Tab[0][12]=Dt_Yi1|Flg_Select;
 279   1      //      DispData_Tab[0][13]=Dt_Yi2|Flg_Select;  
 280   1      //      DispData_Tab[0][14]=Dt_DGou1|Flg_Select;
 281   1      //      DispData_Tab[0][15]=Dt_DGou2|Flg_Select;
 282   1      //-----------------------------------------------------第二行
 283   1              switch(R_PanMode)
 284   1              {
 285   2      
 286   2                      case D_PanMode_Clock:
 287   2                              EnSelectDisp(1);
 288   2                              break;
 289   2                      default:EnSelectDisp(0);                        
 290   2                              break;                                                          
 291   2              }
 292   1              DispData_Tab[1][0 ]=Dt_Shi1|Flg_Select;
 293   1              DispData_Tab[1][1 ]=Dt_Shi2|Flg_Select;
 294   1              DispData_Tab[1][2 ]=Dt_Jian1|Flg_Select;
 295   1              DispData_Tab[1][3 ]=Dt_Jian2|Flg_Select;
 296   1              DispData_Tab[1][4 ]=Dt_Mo1|Flg_Select;      
 297   1              DispData_Tab[1][5 ]=Dt_Mo2|Flg_Select;      
 298   1              DispData_Tab[1][6 ]=Dt_MShi1|Flg_Select;    
 299   1              DispData_Tab[1][7 ]=Dt_MShi2|Flg_Select;    
 300   1      //      DispData_Tab[1][8 ]=Dt_MH|Flg_Select;
 301   1      //      DispData_Tab[1][9 ]=Digit_Tab[1]|Flg_Select;
 302   1      //      DispData_Tab[1][10]=Digit_Tab[1];
C51 COMPILER V9.00   UPDATEDISP                                                            09/03/2017 21:30:28 PAGE 6   

 303   1      ////    DispData_Tab[1][11]=;
 304   1      //      DispData_Tab[1][12]=Dt_Yi1|Flg_Select;
 305   1      //      DispData_Tab[1][13]=Dt_Yi2|Flg_Select;  
 306   1      //      DispData_Tab[1][14]=Dt_DGou1|Flg_Select;
 307   1      //      DispData_Tab[1][15]=Dt_DGou2|Flg_Select;
 308   1      //-------------------------------------第三行
 309   1              switch(R_PanMode)
 310   1              {
 311   2                      
 312   2                      case D_PanMode_Music:
 313   2                              EnSelectDisp(1);
 314   2                              break;
 315   2                      default:EnSelectDisp(0);                        
 316   2                              break;                                                          
 317   2              }
 318   1              DispData_Tab[2][0 ]=Dt_Yin1|Flg_Select;
 319   1              DispData_Tab[2][1 ]=Dt_Yin2|Flg_Select;
 320   1              DispData_Tab[2][2 ]=Dt_YYue1|Flg_Select;
 321   1              DispData_Tab[2][3 ]=Dt_YYue2|Flg_Select;
 322   1              DispData_Tab[2][4 ]=Dt_Mo1|Flg_Select;      
 323   1              DispData_Tab[2][5 ]=Dt_Mo2|Flg_Select;      
 324   1              DispData_Tab[2][6 ]=Dt_MShi1|Flg_Select;    
 325   1              DispData_Tab[2][7 ]=Dt_MShi2|Flg_Select;    
 326   1      //      DispData_Tab[2][8 ]=Dt_MH|Flg_Select;
 327   1      //      DispData_Tab[2][9 ]=Digit_Tab[1]|Flg_Select;
 328   1      //      DispData_Tab[2][10]=Digit_Tab[1]|Flg_Select;
 329   1      ////    DispData_Tab[2][11]=|Flg_Select;
 330   1      //      DispData_Tab[2][12]=Dt_Yi1|Flg_Select;
 331   1      //      DispData_Tab[2][13]=Dt_Yi2|Flg_Select;  
 332   1      //      DispData_Tab[2][14]=Dt_DGou1|Flg_Select;
 333   1      //      DispData_Tab[2][15]=Dt_DGou2|Flg_Select;
 334   1      //-------------------------------------第四行
 335   1              switch(R_PanMode)
 336   1              {
 337   2                      
 338   2                      case D_PanMode_CM:
 339   2                              EnSelectDisp(1);
 340   2                              break;
 341   2                      default:EnSelectDisp(0);                        
 342   2                              break;                                                          
 343   2              }
 344   1              DispData_Tab[3][0 ]=Dt_Shi1|Flg_Select;  
 345   1              DispData_Tab[3][1 ]=Dt_Shi2|Flg_Select;  
 346   1              DispData_Tab[3][2 ]=Dt_Jian1|Flg_Select; 
 347   1              DispData_Tab[3][3 ]=Dt_Jian2|Flg_Select; 
 348   1              DispData_Tab[3][4 ]=Dt_Yin1|Flg_Select;    
 349   1              DispData_Tab[3][5 ]=Dt_Yin2|Flg_Select;    
 350   1              DispData_Tab[3][6 ]=Dt_YYue1|Flg_Select;    
 351   1              DispData_Tab[3][7 ]=Dt_YYue2|Flg_Select;    
 352   1      //      DispData_Tab[3][8 ]=Dt_MH|Flg_Select;
 353   1      //      DispData_Tab[3][9 ]=Digit_Tab[1]|Flg_Select;
 354   1      //      DispData_Tab[3][10]=Digit_Tab[1]|Flg_Select;
 355   1      ////    DispData_Tab[3][11]=|Flg_Select;
 356   1      //      switch(R_PanMode)
 357   1      //      {
 358   1      //              case D_SetMode_Quit:
 359   1      //                      EnSelectDisp(1);
 360   1      //                      break;
 361   1      //              default:EnSelectDisp(0);                        
 362   1      //                      break;                                                          
 363   1      //      }
 364   1      //      DispData_Tab[3][12]=Dt_Tui1|Flg_Select;
C51 COMPILER V9.00   UPDATEDISP                                                            09/03/2017 21:30:28 PAGE 7   

 365   1      //      DispData_Tab[3][13]=Dt_Tui2|Flg_Select; 
 366   1      //      DispData_Tab[3][14]=Dt_Chu1|Flg_Select;
 367   1      //      DispData_Tab[3][15]=Dt_Chu2|Flg_Select;                 
 368   1      }
 369          /*--------------------------------------
 370          //------------设置状态主页面显示------------------
 371          //一级菜单
 372          //
 373          --------------------------------------*/
 374          void UpdateDisp_SetModeClass1()
 375          {
 376   1              Flg_Select=0;
 377   1      //-------------------------------------第一行   
 378   1      //      DispData_Tab[0][0 ]=Dt_Nao1|Flg_Select;
 379   1      //      DispData_Tab[0][1 ]=Dt_Nao2|Flg_Select;
 380   1      //      DispData_Tab[0][2 ]=Dt_Zhong1|Flg_Select;
 381   1      //      DispData_Tab[0][3 ]=Dt_Zhong2|Flg_Select;
 382   1      //      DispData_Tab[0][4 ]=Digit_Tab[1]|Flg_Select;
 383   1      //      DispData_Tab[0][5 ]=Dt_MH|Flg_Select;
 384   1              DispData_Tab[0][6 ]=Dt_She1|Flg_Select;
 385   1              DispData_Tab[0][7 ]=Dt_She2|Flg_Select;
 386   1              DispData_Tab[0][8 ]=Dt_SZhi1|Flg_Select;
 387   1              DispData_Tab[0][9 ]=Dt_SZhi2|Flg_Select;
 388   1      //      DispData_Tab[0][10]=Digit_Tab[1]|Flg_Select;
 389   1      ////    DispData_Tab[0][11]=|Flg_Select;
 390   1      //      DispData_Tab[0][12]=Dt_Yi1|Flg_Select;
 391   1      //      DispData_Tab[0][13]=Dt_Yi2|Flg_Select;  
 392   1      //      DispData_Tab[0][14]=Dt_DGou1|Flg_Select;
 393   1      //      DispData_Tab[0][15]=Dt_DGou2|Flg_Select;
 394   1      //-----------------------------------------------------第二行
 395   1              switch(R_SetMode)
 396   1              {
 397   2                      case D_SetMode_Alarm:
 398   2                              EnSelectDisp(0);
 399   2                              break;
 400   2                      case D_SetMode_Timer:
 401   2                              EnSelectDisp(1);
 402   2                              break;  
 403   2                      default:EnSelectDisp(0);                        
 404   2                              break;                                                          
 405   2              }
 406   1              DispData_Tab[1][0 ]=Dt_Shi1|Flg_Select;
 407   1              DispData_Tab[1][1 ]=Dt_Shi2|Flg_Select;
 408   1              DispData_Tab[1][2 ]=Dt_Jian1|Flg_Select;
 409   1              DispData_Tab[1][3 ]=Dt_Jian2|Flg_Select;
 410   1              DispData_Tab[1][4 ]=Dt_She1|Flg_Select;
 411   1              DispData_Tab[1][5 ]=Dt_She2|Flg_Select;
 412   1              DispData_Tab[1][6 ]=Dt_SZhi1|Flg_Select;
 413   1              DispData_Tab[1][7 ]=Dt_SZhi2|Flg_Select;
 414   1      //      DispData_Tab[1][8 ]=Dt_MH|Flg_Select;
 415   1      //      DispData_Tab[1][9 ]=Digit_Tab[1]|Flg_Select;
 416   1      //      DispData_Tab[1][10]=Digit_Tab[1];
 417   1      ////    DispData_Tab[1][11]=;
 418   1      //      DispData_Tab[1][12]=Dt_Yi1|Flg_Select;
 419   1      //      DispData_Tab[1][13]=Dt_Yi2|Flg_Select;  
 420   1      //      DispData_Tab[1][14]=Dt_DGou1|Flg_Select;
 421   1      //      DispData_Tab[1][15]=Dt_DGou2|Flg_Select;
 422   1      //-------------------------------------第三行
 423   1              switch(R_SetMode)
 424   1              {
 425   2                      case D_SetMode_Timer:
 426   2                              EnSelectDisp(0);
C51 COMPILER V9.00   UPDATEDISP                                                            09/03/2017 21:30:28 PAGE 8   

 427   2                              break;
 428   2                      case D_SetMode_Alarm:
 429   2                              EnSelectDisp(1);
 430   2                              break;  
 431   2                      default:EnSelectDisp(0);                        
 432   2                              break;                                                          
 433   2              }
 434   1              DispData_Tab[2][0 ]=Dt_Nao1|Flg_Select;
 435   1              DispData_Tab[2][1 ]=Dt_Nao2|Flg_Select;
 436   1              DispData_Tab[2][2 ]=Dt_Zhong1|Flg_Select;
 437   1              DispData_Tab[2][3 ]=Dt_Zhong2|Flg_Select;
 438   1              DispData_Tab[2][4 ]=Dt_She1|Flg_Select;
 439   1              DispData_Tab[2][5 ]=Dt_She2|Flg_Select;
 440   1              DispData_Tab[2][6 ]=Dt_SZhi1|Flg_Select;
 441   1              DispData_Tab[2][7 ]=Dt_SZhi2|Flg_Select;
 442   1      //      DispData_Tab[2][8 ]=Dt_MH|Flg_Select;
 443   1      //      DispData_Tab[2][9 ]=Digit_Tab[1]|Flg_Select;
 444   1      //      DispData_Tab[2][10]=Digit_Tab[1]|Flg_Select;
 445   1      ////    DispData_Tab[2][11]=|Flg_Select;
 446   1      //      DispData_Tab[2][12]=Dt_Yi1|Flg_Select;
 447   1      //      DispData_Tab[2][13]=Dt_Yi2|Flg_Select;  
 448   1      //      DispData_Tab[2][14]=Dt_DGou1|Flg_Select;
 449   1      //      DispData_Tab[2][15]=Dt_DGou2|Flg_Select;
 450   1      //-------------------------------------第四行
 451   1              switch(R_SetMode)
 452   1              {
 453   2                      case D_SetMode_Pan:
 454   2                              EnSelectDisp(1);
 455   2                              break;  
 456   2                      default:EnSelectDisp(0);                        
 457   2                              break;                                                          
 458   2              }
 459   1              DispData_Tab[3][0 ]=Dt_Mo1|Flg_Select;
 460   1              DispData_Tab[3][1 ]=Dt_Mo2|Flg_Select;
 461   1              DispData_Tab[3][2 ]=Dt_MShi1|Flg_Select;
 462   1              DispData_Tab[3][3 ]=Dt_MShi2|Flg_Select;
 463   1              DispData_Tab[3][4 ]=Dt_Xuan1|Flg_Select;      
 464   1              DispData_Tab[3][5 ]=Dt_Xuan2|Flg_Select;      
 465   1              DispData_Tab[3][6 ]=Dt_Ze1|Flg_Select;     
 466   1              DispData_Tab[3][7 ]=Dt_Ze2|Flg_Select;     
 467   1      //      DispData_Tab[3][8 ]=Dt_MH|Flg_Select;
 468   1      //      DispData_Tab[3][9 ]=Digit_Tab[1]|Flg_Select;
 469   1      //      DispData_Tab[3][10]=Digit_Tab[1]|Flg_Select;
 470   1      ////    DispData_Tab[3][11]=|Flg_Select;
 471   1              switch(R_SetMode)
 472   1              {
 473   2                      case D_SetMode_Timer:
 474   2                              EnSelectDisp(0);
 475   2                              break;
 476   2                      case D_SetMode_Alarm:
 477   2                              EnSelectDisp(0);
 478   2                              break;  
 479   2                      case D_SetMode_Quit:
 480   2                              EnSelectDisp(1);
 481   2                              break;                          
 482   2                      default:EnSelectDisp(0);                        
 483   2                              break;                                                          
 484   2              }
 485   1              DispData_Tab[3][12]=Dt_Tui1|Flg_Select;
 486   1              DispData_Tab[3][13]=Dt_Tui2|Flg_Select; 
 487   1              DispData_Tab[3][14]=Dt_Chu1|Flg_Select;
 488   1              DispData_Tab[3][15]=Dt_Chu2|Flg_Select;                 
C51 COMPILER V9.00   UPDATEDISP                                                            09/03/2017 21:30:28 PAGE 9   

 489   1      }
 490          /*--------------------------------------
 491          //------------闹钟显示------------------
 492          //一级菜单
 493          //
 494          --------------------------------------*/
 495          void UpdateDisp_AlarmClock()
 496          {
 497   1              Flg_Select=0;
 498   1      //-------------------------------------第一行
 499   1              switch(R_AlarmMode)
 500   1              {
 501   2                      case D_Alarm1:
 502   2                              EnSelectDisp(1);
 503   2                              break;
 504   2                      case D_Alarm2:
 505   2                              EnSelectDisp(0);
 506   2                              break;  
 507   2                      case D_Alarm3:
 508   2                              EnSelectDisp(0);
 509   2                              break;  
 510   2                      case D_Alarm4:
 511   2                              EnSelectDisp(0);
 512   2                              break;
 513   2                      case D_SetMode_Quit:
 514   2                              EnSelectDisp(0);
 515   2                              break;                                  
 516   2                      default:                        
 517   2                              break;          
 518   2              }       
 519   1              DispData_Tab[0][0 ]=Dt_Nao1|Flg_Select;
 520   1              DispData_Tab[0][1 ]=Dt_Nao2|Flg_Select;
 521   1              DispData_Tab[0][2 ]=Dt_Zhong1|Flg_Select;
 522   1              DispData_Tab[0][3 ]=Dt_Zhong2|Flg_Select;
 523   1              DispData_Tab[0][4 ]=Digit_Tab[1]|Flg_Select;
 524   1              EnSelectDisp(0);
 525   1      //      DispData_Tab[0][5 ]=Dt_MH|Flg_Select;
 526   1              DispData_Tab[0][6 ]=Digit_Tab[AlarmTm_Tab[0][1]/10]|Flg_Select;
 527   1              DispData_Tab[0][7 ]=Digit_Tab[AlarmTm_Tab[0][1]%10]|Flg_Select;
 528   1              DispData_Tab[0][8 ]=Dt_MH|Flg_Select;
 529   1              DispData_Tab[0][9 ]=Digit_Tab[AlarmTm_Tab[0][0]/10]|Flg_Select;
 530   1              DispData_Tab[0][10]=Digit_Tab[AlarmTm_Tab[0][0]%10]|Flg_Select;
 531   1      //      DispData_Tab[0][11]=|Flg_Select;
 532   1              DispData_Tab[0][12]=Day_Tab[AlarmTm_Tab[0][2]]|Flg_Select;
 533   1              DispData_Tab[0][13]=Day_Tab[AlarmTm_Tab[0][2]]+1|Flg_Select;    
 534   1              if(AlarmTm_Tab[0][2])
 535   1                      {
 536   2                      DispData_Tab[0][14]=Dt_DGou1|Flg_Select;
 537   2                      DispData_Tab[0][15]=Dt_DGou2|Flg_Select;        
 538   2                      }               
 539   1                      
 540   1      
 541   1      //-------------------------------------第二行
 542   1              switch(R_AlarmMode)
 543   1              {
 544   2                      case D_Alarm1:
 545   2                              EnSelectDisp(0);
 546   2                              break;
 547   2                      case D_Alarm2:
 548   2                              EnSelectDisp(1);
 549   2                              break;  
 550   2                      case D_Alarm3:
C51 COMPILER V9.00   UPDATEDISP                                                            09/03/2017 21:30:28 PAGE 10  

 551   2                              EnSelectDisp(0);
 552   2                              break;  
 553   2                      case D_Alarm4:
 554   2                              EnSelectDisp(0);
 555   2                              break;
 556   2                      case D_SetMode_Quit:
 557   2                              EnSelectDisp(0);
 558   2                              break;                                  
 559   2                      default:                        
 560   2                              break;          
 561   2              }
 562   1              DispData_Tab[1][0 ]=Dt_Nao1|Flg_Select;
 563   1              DispData_Tab[1][1 ]=Dt_Nao2|Flg_Select;
 564   1              DispData_Tab[1][2 ]=Dt_Zhong1|Flg_Select;
 565   1              DispData_Tab[1][3 ]=Dt_Zhong2|Flg_Select;
 566   1              DispData_Tab[1][4 ]=Digit_Tab[2]|Flg_Select;
 567   1              EnSelectDisp(0);
 568   1      //      DispData_Tab[1][5 ]=Dt_MH;
 569   1              DispData_Tab[1][6 ]=Digit_Tab[AlarmTm_Tab[1][1]/10]|Flg_Select;       
 570   1              DispData_Tab[1][7 ]=Digit_Tab[AlarmTm_Tab[1][1]%10]|Flg_Select;       
 571   1              DispData_Tab[1][8 ]=Dt_MH|Flg_Select;                                 
 572   1              DispData_Tab[1][9 ]=Digit_Tab[AlarmTm_Tab[1][0]/10]|Flg_Select;       
 573   1              DispData_Tab[1][10]=Digit_Tab[AlarmTm_Tab[1][0]%10]|Flg_Select;       
 574   1      //      DispData_Tab[1][11]=;
 575   1              DispData_Tab[1][12]=Day_Tab[AlarmTm_Tab[1][2]]|Flg_Select;
 576   1              DispData_Tab[1][13]=Day_Tab[AlarmTm_Tab[1][2]]+1|Flg_Select;            
 577   1              if(AlarmTm_Tab[1][2])
 578   1                      {
 579   2                      DispData_Tab[1][14]=Dt_DGou1|Flg_Select;
 580   2                      DispData_Tab[1][15]=Dt_DGou2|Flg_Select;        
 581   2                      }
 582   1      //-------------------------------------第三行
 583   1              switch(R_AlarmMode)
 584   1              {
 585   2                      case D_Alarm1:
 586   2                              EnSelectDisp(0);
 587   2                              break;
 588   2                      case D_Alarm2:
 589   2                              EnSelectDisp(0);
 590   2                              break;  
 591   2                      case D_Alarm3:
 592   2                              EnSelectDisp(1);
 593   2                              break;  
 594   2                      case D_Alarm4:
 595   2                              EnSelectDisp(0);
 596   2                              break;
 597   2                      case D_SetMode_Quit:
 598   2                              EnSelectDisp(0);
 599   2                              break;                                  
 600   2                      default:                        
 601   2                              break;          
 602   2              }
 603   1              DispData_Tab[2][0 ]=Dt_Nao1|Flg_Select;
 604   1              DispData_Tab[2][1 ]=Dt_Nao2|Flg_Select;
 605   1              DispData_Tab[2][2 ]=Dt_Zhong1|Flg_Select;
 606   1              DispData_Tab[2][3 ]=Dt_Zhong2|Flg_Select;
 607   1              DispData_Tab[2][4 ]=Digit_Tab[3]|Flg_Select;
 608   1              EnSelectDisp(0);
 609   1      //      DispData_Tab[2][5 ]=Dt_MH;
 610   1              DispData_Tab[2][6 ]=Digit_Tab[AlarmTm_Tab[2][1]/10]|Flg_Select;       
 611   1              DispData_Tab[2][7 ]=Digit_Tab[AlarmTm_Tab[2][1]%10]|Flg_Select;       
 612   1              DispData_Tab[2][8 ]=Dt_MH|Flg_Select;                                 
C51 COMPILER V9.00   UPDATEDISP                                                            09/03/2017 21:30:28 PAGE 11  

 613   1              DispData_Tab[2][9 ]=Digit_Tab[AlarmTm_Tab[2][0]/10]|Flg_Select;       
 614   1              DispData_Tab[2][10]=Digit_Tab[AlarmTm_Tab[2][0]%10]|Flg_Select;       
 615   1      //      DispData_Tab[2][11]=|Flg_Select;
 616   1              DispData_Tab[2][12]=Day_Tab[AlarmTm_Tab[2][2]]|Flg_Select;
 617   1              DispData_Tab[2][13]=Day_Tab[AlarmTm_Tab[2][2]]+1|Flg_Select;    
 618   1              if(AlarmTm_Tab[2][2])
 619   1                      {
 620   2                      DispData_Tab[2][14]=Dt_DGou1|Flg_Select;
 621   2                      DispData_Tab[2][15]=Dt_DGou2|Flg_Select;        
 622   2                      }
 623   1      //-------------------------------------第四行
 624   1      //      switch(R_AlarmMode)
 625   1      //      {
 626   1      //              case D_Alarm1:
 627   1      //                      EnSelectDisp(0);
 628   1      //                      break;
 629   1      //              case D_Alarm2:
 630   1      //                      EnSelectDisp(0);
 631   1      //                      break;  
 632   1      //              case D_Alarm3:
 633   1      //                      EnSelectDisp(0);
 634   1      //                      break;  
 635   1      //              case D_Alarm4:
 636   1      //                      EnSelectDisp(1);
 637   1      //                      break;
 638   1      //              case D_SetMode_Quit:
 639   1      //                      EnSelectDisp(0);
 640   1      //                      break;                                  
 641   1      //              default:                        
 642   1      //                      break;          
 643   1      //      }
 644   1      //      DispData_Tab[3][0 ]=Dt_Nao1|Flg_Select;
 645   1      //      DispData_Tab[3][1 ]=Dt_Nao2|Flg_Select;
 646   1      //      DispData_Tab[3][2 ]=Dt_Zhong1|Flg_Select;
 647   1      //      DispData_Tab[3][3 ]=Dt_Zhong2|Flg_Select;
 648   1      //      DispData_Tab[3][4 ]=Digit_Tab[1]|Flg_Select;
 649   1      //      EnSelectDisp(0);
 650   1      ////    DispData_Tab[3][5 ]=Dt_MH|Flg_Select;
 651   1      //      DispData_Tab[3][6 ]=Digit_Tab[1]|Flg_Select;
 652   1      //      DispData_Tab[3][7 ]=Digit_Tab[1]|Flg_Select;
 653   1      //      DispData_Tab[3][8 ]=Dt_MH|Flg_Select;
 654   1      //      DispData_Tab[3][9 ]=Digit_Tab[1]|Flg_Select;
 655   1      //      DispData_Tab[3][10]=Digit_Tab[1]|Flg_Select;
 656   1      //      DispData_Tab[3][11]=|Flg_Select;
 657   1              switch(R_AlarmMode)
 658   1              {               
 659   2                      case D_SetMode_Quit:
 660   2                              EnSelectDisp(1);
 661   2                              break;                                  
 662   2                      default:        
 663   2                              EnSelectDisp(0);                
 664   2                              break;          
 665   2              }
 666   1              DispData_Tab[3][12]=Dt_Tui1|Flg_Select;
 667   1              DispData_Tab[3][13]=Dt_Tui2|Flg_Select; 
 668   1              DispData_Tab[3][14]=Dt_Chu1|Flg_Select;
 669   1              DispData_Tab[3][15]=Dt_Chu2|Flg_Select;                         
 670   1      }
 671          /*--------------------------------------
 672          //------------闹钟显示------------------
 673          //二级菜单
 674          //
C51 COMPILER V9.00   UPDATEDISP                                                            09/03/2017 21:30:28 PAGE 12  

 675          --------------------------------------*/
 676          void UpdateDisp_AlarmClockClass2()
 677          {
 678   1              Flg_Select=0;
 679   1              
 680   1      //-------------------------------------第一行   
 681   1      //      DispData_Tab[0][0 ]=Dt_Nao1|Flg_Select;
 682   1      //      DispData_Tab[0][1 ]=Dt_Nao2|Flg_Select;
 683   1      //      DispData_Tab[0][2 ]=Dt_Zhong1|Flg_Select;
 684   1      //      DispData_Tab[0][3 ]=Dt_Zhong2|Flg_Select;
 685   1      //      DispData_Tab[0][4 ]=Digit_Tab[1]|Flg_Select;
 686   1              DispData_Tab[0][5 ]=Dt_Nao1|Flg_Select;     
 687   1              DispData_Tab[0][6 ]=Dt_Nao2|Flg_Select;     
 688   1              DispData_Tab[0][7 ]=Dt_Zhong1|Flg_Select;   
 689   1              DispData_Tab[0][8 ]=Dt_Zhong2|Flg_Select;   
 690   1              DispData_Tab[0][9 ]=Digit_Tab[R_AlarmMode]|Flg_Select;
 691   1      //      DispData_Tab[0][10]=|Flg_Select
 692   1      ////    DispData_Tab[0][11]=|Flg_Select;
 693   1      //      DispData_Tab[0][12]=Dt_Yi1|Flg_Select;
 694   1      
 695   1      
 696   1      //-------------------------------------第二行
 697   1      
 698   1              DispData_Tab[1][0 ]=Dt_Shi1 |Flg_Select;        
 699   1              DispData_Tab[1][1 ]=Dt_Shi2 |Flg_Select;        
 700   1              DispData_Tab[1][2 ]=Dt_Jian1 |Flg_Select;       
 701   1              DispData_Tab[1][3 ]=Dt_Jian2 |Flg_Select;       
 702   1      //      DispData_Tab[1][4 ]=Dt_MH|Flg_Select;  
 703   1              switch(R_AlarmSetMode)
 704   1              {
 705   2                      case 0:
 706   2                              EnSelectDisp(0);
 707   2                              break;
 708   2                      case D_AlarmSet_TmMin:
 709   2                              EnSelectDisp(0);
 710   2                              break;  
 711   2                      case D_AlarmSet_TmHour:
 712   2                              EnSelectDisp(1);
 713   2                              break;  
 714   2                      case D_AlarmSet_TmDay:
 715   2                              EnSelectDisp(0);
 716   2                              break;
 717   2                      case D_AlarmSet_TmBell:
 718   2                              EnSelectDisp(0);
 719   2                              break;                  
 720   2                      case D_SetMode_Quit:
 721   2                              EnSelectDisp(0);
 722   2                              break;                                  
 723   2                      default:EnSelectDisp(0);                        
 724   2                              break;          
 725   2              }   
 726   1              DispData_Tab[1][5 ]=Digit_Tab[AlarmTm_Tab[R_AlarmMode-1][1]/10]|Flg_Select;         
 727   1              DispData_Tab[1][6 ]=Digit_Tab[AlarmTm_Tab[R_AlarmMode-1][1]%10] |Flg_Select;        
 728   1              DispData_Tab[1][7 ]=Dt_MH |Flg_Select;
 729   1              switch(R_AlarmSetMode)
 730   1              {
 731   2                      case 0:
 732   2                              EnSelectDisp(0);
 733   2                              break;
 734   2                      case D_AlarmSet_TmMin:
 735   2                              EnSelectDisp(1);
 736   2                              break;  
C51 COMPILER V9.00   UPDATEDISP                                                            09/03/2017 21:30:28 PAGE 13  

 737   2                      case D_AlarmSet_TmHour:
 738   2                              EnSelectDisp(0);
 739   2                              break;  
 740   2                      case D_AlarmSet_TmDay:
 741   2                              EnSelectDisp(0);
 742   2                              break;
 743   2                      case D_AlarmSet_TmBell:
 744   2                              EnSelectDisp(0);
 745   2                              break;                  
 746   2                      case D_SetMode_Quit:
 747   2                              EnSelectDisp(0);
 748   2                              break;                                  
 749   2                      default:                        
 750   2                              break;          
 751   2              }                           
 752   1              DispData_Tab[1][8 ]=Digit_Tab[AlarmTm_Tab[R_AlarmMode-1][0]/10] |Flg_Select;        
 753   1              DispData_Tab[1][9 ]=Digit_Tab[AlarmTm_Tab[R_AlarmMode-1][0]%10]|Flg_Select;        
 754   1      //      DispData_Tab[1][10]=Digit_Tab[1]|Flg_Select;        
 755   1      //      DispData_Tab[1][11]=
 756   1      //      DispData_Tab[1][12]=
 757   1              switch(R_AlarmSetMode)
 758   1              {
 759   2      
 760   2                      case D_AlarmSet_TmONOFF:
 761   2                              EnSelectDisp(1);
 762   2                              break;                                  
 763   2                      default:EnSelectDisp(0);                        
 764   2                              break;          
 765   2              } 
 766   1              if(AlarmTm_Tab[R_AlarmMode-1][4])
 767   1                      {
 768   2                      DispData_Tab[1][13]=Dt_O|Flg_Select;    
 769   2                      DispData_Tab[1][14]=Dt_n|Flg_Select;
 770   2      //              DispData_Tab[1][15]=Dt_DGou2|Flg_Select;                        
 771   2                      }
 772   1                      else
 773   1                              {
 774   2                              DispData_Tab[1][13]=Dt_O|Flg_Select;    
 775   2                              DispData_Tab[1][14]=Dt_f|Flg_Select;
 776   2                              DispData_Tab[1][15]=Dt_f|Flg_Select;                            
 777   2                              }
 778   1      //-------------------------------------第三行
 779   1              switch(R_AlarmSetMode)
 780   1              {
 781   2              
 782   2                      case D_AlarmSet_TmDay:
 783   2                              EnSelectDisp(1);
 784   2                              break;
 785   2                                      
 786   2                      default:        
 787   2                              EnSelectDisp(0);                
 788   2                              break;          
 789   2              }
 790   1      
 791   1              if((AlarmTm_Tab[R_AlarmMode-1][2]==1))
 792   1                      {
 793   2                      EnSelectDisp(1);        
 794   2                      }               
 795   1                      else 
 796   1                              {
 797   2                              EnSelectDisp(0);        
 798   2                              }
C51 COMPILER V9.00   UPDATEDISP                                                            09/03/2017 21:30:28 PAGE 14  

 799   1              if(AlarmSetDay_Tab[R_AlarmMode-1]&(1<<0))
 800   1                      {
 801   2                      DispData_Tab[2][0 ]=Dt_KYi1 |Flg_Select;
 802   2                      DispData_Tab[2][1 ]=Dt_KYi2 |Flg_Select;        
 803   2                      }
 804   1                      else
 805   1                              {
 806   2                              DispData_Tab[2][0 ]=Dt_Yi1 |Flg_Select;
 807   2                              DispData_Tab[2][1 ]=Dt_Yi2 |Flg_Select;         
 808   2                              }
 809   1              if((AlarmTm_Tab[R_AlarmMode-1][2]==2)||(AlarmSetDay_Tab[R_AlarmMode-1]&(1<<1)))
 810   1                      {
 811   2                      EnSelectDisp(1);        
 812   2                      }               
 813   1                      else 
 814   1                              {
 815   2                              EnSelectDisp(0);        
 816   2                              }
 817   1              DispData_Tab[2][2 ]=Dt_Er1 |Flg_Select;
 818   1              DispData_Tab[2][3 ]=Dt_Er2 |Flg_Select;
 819   1              if((AlarmTm_Tab[R_AlarmMode-1][2]==3)||(AlarmSetDay_Tab[R_AlarmMode-1]&(1<<2)))
 820   1                      {
 821   2                      EnSelectDisp(1);        
 822   2                      }               
 823   1                      else 
 824   1                              {
 825   2                              EnSelectDisp(0);        
 826   2                              }       
 827   1              DispData_Tab[2][4 ]=Dt_San1|Flg_Select;
 828   1              DispData_Tab[2][5 ]=Dt_San2|Flg_Select;
 829   1              if((AlarmTm_Tab[R_AlarmMode-1][2]==4)||(AlarmSetDay_Tab[R_AlarmMode-1]&(1<<3)))
 830   1                      {
 831   2                      EnSelectDisp(1);        
 832   2                      }               
 833   1                      else 
 834   1                              {
 835   2                              EnSelectDisp(0);        
 836   2                              }       
 837   1              DispData_Tab[2][6 ]=Dt_Si1 |Flg_Select;
 838   1              DispData_Tab[2][7 ]=Dt_Si2 |Flg_Select;
 839   1              if((AlarmTm_Tab[R_AlarmMode-1][2]==5)||(AlarmSetDay_Tab[R_AlarmMode-1]&(1<<4)))
 840   1                      {
 841   2                      EnSelectDisp(1);        
 842   2                      }               
 843   1                      else 
 844   1                              {
 845   2                              EnSelectDisp(0);        
 846   2                              }
 847   1              DispData_Tab[2][8 ]=Dt_Wu1 |Flg_Select;
 848   1              DispData_Tab[2][9 ]=Dt_Wu2 |Flg_Select;
 849   1              if((AlarmTm_Tab[R_AlarmMode-1][2]==6)||(AlarmSetDay_Tab[R_AlarmMode-1]&(1<<5)))
 850   1                      {
 851   2                      EnSelectDisp(1);        
 852   2                      }               
 853   1                      else 
 854   1                              {
 855   2                              EnSelectDisp(0);        
 856   2                              }       
 857   1              DispData_Tab[2][10]=Dt_Liu1|Flg_Select;
 858   1              DispData_Tab[2][11]=Dt_Liu2|Flg_Select;
 859   1              if((AlarmTm_Tab[R_AlarmMode-1][2]==7)||(AlarmSetDay_Tab[R_AlarmMode-1]&(1<<6)))
 860   1                      {
C51 COMPILER V9.00   UPDATEDISP                                                            09/03/2017 21:30:28 PAGE 15  

 861   2                      EnSelectDisp(1);        
 862   2                      }               
 863   1                      else 
 864   1                              {
 865   2                              EnSelectDisp(0);        
 866   2                              }       
 867   1              DispData_Tab[2][12]=Dt_Ri1 |Flg_Select;
 868   1              DispData_Tab[2][13]=Dt_Ri2 |Flg_Select;
 869   1              if(AlarmTm_Tab[R_AlarmMode-1][2]==7)
 870   1                      {
 871   2                      EnSelectDisp(1);        
 872   2                      }               
 873   1                      else 
 874   1                              {
 875   2                              EnSelectDisp(0);        
 876   2                              }
 877   1      //      DispData_Tab[2][14]=Dt_O  |Flg_Select;
 878   1      //      DispData_Tab[2][15]=Dt_n  |Flg_Select;
 879   1      //-------------------------------------第四行
 880   1              EnSelectDisp(0);
 881   1              DispData_Tab[3][0 ]=Dt_Ling1|Flg_Select;
 882   1              DispData_Tab[3][1 ]=Dt_Ling2|Flg_Select;
 883   1              DispData_Tab[3][2 ]=Dt_Sheng1|Flg_Select;
 884   1              DispData_Tab[3][3 ]=Dt_Sheng2|Flg_Select;
 885   1              DispData_Tab[3][4 ]=Dt_MH|Flg_Select;
 886   1      //      DispData_Tab[3][5 ]=Dt_MH|Flg_Select;
 887   1              switch(R_AlarmSetMode)
 888   1              {
 889   2              
 890   2                      case D_AlarmSet_TmBell:
 891   2                              EnSelectDisp(1);
 892   2                              break;                          
 893   2                      default:        
 894   2                              EnSelectDisp(0);                
 895   2                              break;          
 896   2              }
 897   1              DispData_Tab[3][6 ]=Digit_Tab[AlarmTm_Tab[R_AlarmMode-1][3]/10]|Flg_Select;
 898   1              DispData_Tab[3][7 ]=Digit_Tab[AlarmTm_Tab[R_AlarmMode-1][3]%10]|Flg_Select;
 899   1      //      DispData_Tab[3][8 ]=Dt_MH|Flg_Select;
 900   1      //      DispData_Tab[3][9 ]=Digit_Tab[1]|Flg_Select;
 901   1      //      DispData_Tab[3][10]=Digit_Tab[1]|Flg_Select;
 902   1      ////    DispData_Tab[3][11]=|Flg_Select;
 903   1              switch(R_AlarmSetMode)
 904   1              {               
 905   2                      case D_SetMode_Quit:
 906   2                              EnSelectDisp(1);
 907   2                              break;                                  
 908   2                      default:        
 909   2                              EnSelectDisp(0);                
 910   2                              break;          
 911   2              }
 912   1              DispData_Tab[3][12]=Dt_Tui1|Flg_Select;
 913   1              DispData_Tab[3][13]=Dt_Tui2|Flg_Select; 
 914   1              DispData_Tab[3][14]=Dt_Chu1|Flg_Select;
 915   1              DispData_Tab[3][15]=Dt_Chu2|Flg_Select;                         
 916   1      }
 917          void UpdateDisp_Timer()
 918          {
 919   1              Flg_Select=0;
 920   1              
 921   1              DispData_Tab[0][0]=Dt_R;
 922   1              DispData_Tab[0][1]=Dt_H;
C51 COMPILER V9.00   UPDATEDISP                                                            09/03/2017 21:30:28 PAGE 16  

 923   1              DispData_Tab[0][2]=Dt_MH;
 924   1              DispData_Tab[0][3]=Digit_Tab[U8RH_data_H/10];//Digit_Tab[R_SpeedCnt>>8&0x00f];//
 925   1              DispData_Tab[0][4]=Digit_Tab[R_AudioAD>>4&0x00f];//Digit_Tab[U8RH_data_H%10];//
 926   1              DispData_Tab[0][5]=Digit_Tab[R_AudioAD&0x00f];//Dt_BFen;
 927   1      //      DispData_Tab[0][6]=Dt_Qing1;
 928   1      //      DispData_Tab[0][7]=Dt_Qing2;
 929   1              if(Flg_HaveAudio)
 930   1                      {
 931   2                      DispData_Tab[0][7]=Dt_ErJi1;
 932   2                      DispData_Tab[0][8]=Dt_ErJi2;    
 933   2                      }
 934   1      
 935   1      //      DispData_Tab[0][8]=Dt_Ke1;
 936   1      //      DispData_Tab[0][9]=Dt_R;
 937   1              DispData_Tab[0][10]=Dt_T;
 938   1              DispData_Tab[0][11]=Dt_MH;
 939   1              DispData_Tab[0][12]=Digit_Tab[U8T_data_H/10];
 940   1              DispData_Tab[0][13]=Digit_Tab[U8T_data_H%10];
 941   1              DispData_Tab[0][14]=Dt_WDu;
 942   1              
 943   1      //      DispData_Tab[1][0]=Dt_A;
 944   1      //      DispData_Tab[1][1]=Dt_A;
 945   1      //      DispData_Tab[1][2]=Dt_A;
 946   1      //      DispData_Tab[1][3]=Dt_A;
 947   1              DispData_Tab[1][3]=DigitBig_Tab[time_buf1[4]/10];
 948   1              DispData_Tab[1][4]=DigitBig_Tab[time_buf1[4]/10]+1;
 949   1              DispData_Tab[1][5]=DigitBig_Tab[time_buf1[4]%10];
 950   1              DispData_Tab[1][6]=DigitBig_Tab[time_buf1[4]%10]+1;
 951   1      
 952   1              DispData_Tab[1][7]=Dt_B1_MH;    
 953   1              DispData_Tab[1][8]=Dt_B2_MH;
 954   1      
 955   1              DispData_Tab[1][9]=DigitBig_Tab[time_buf1[5]/10];
 956   1              DispData_Tab[1][10]=DigitBig_Tab[time_buf1[5]/10]+1;
 957   1              DispData_Tab[1][11]=DigitBig_Tab[time_buf1[5]%10];
 958   1              DispData_Tab[1][12]=DigitBig_Tab[time_buf1[5]%10]+1;    
 959   1      //      DispData_Tab[1][13]=Dt_b;
 960   1      //      DispData_Tab[1][14]=Dt_b;
 961   1      //      DispData_Tab[1][11]=Dt_b;
 962   1      //      DispData_Tab[1][15]=Dt_MH;
 963   1              if(AlarmTm_Tab[0][4]||AlarmTm_Tab[1][4]||AlarmTm_Tab[2][4]||AlarmTm_Tab[3][4])
 964   1                      {
 965   2                      DispData_Tab[2][0]=Dt_NZTu1;
 966   2                      DispData_Tab[2][1]=Dt_NZTu2;    
 967   2                      }
 968   1              
 969   1              
 970   1      //      DispData_Tab[2][2]=Dt_Zuo1;
 971   1      //      DispData_Tab[2][3]=Dt_Zuo2;
 972   1              DispData_Tab[2][3]=DigitBig_Tab[time_buf1[4]/10]+1+1;
 973   1              DispData_Tab[2][4]=DigitBig_Tab[time_buf1[4]/10]+1+1+1;
 974   1              DispData_Tab[2][5]=DigitBig_Tab[time_buf1[4]%10]+1+1;
 975   1              DispData_Tab[2][6]=DigitBig_Tab[time_buf1[4]%10]+1+1+1;
 976   1      
 977   1              DispData_Tab[2][7]=Dt_B1_MH;    
 978   1              DispData_Tab[2][8]=Dt_B2_MH;
 979   1      
 980   1              DispData_Tab[2][9]=DigitBig_Tab[time_buf1[5]/10]+1+1;
 981   1              DispData_Tab[2][10]=DigitBig_Tab[time_buf1[5]/10]+1+1+1;
 982   1              DispData_Tab[2][11]=DigitBig_Tab[time_buf1[5]%10]+1+1;
 983   1              DispData_Tab[2][12]=DigitBig_Tab[time_buf1[5]%10]+1+1+1;        
 984   1      
C51 COMPILER V9.00   UPDATEDISP                                                            09/03/2017 21:30:28 PAGE 17  

 985   1              DispData_Tab[2][13]=Digit_Tab[time_buf1[6]/10];  
 986   1              DispData_Tab[2][14]=Digit_Tab[time_buf1[6]%10];
 987   1              
 988   1              DispData_Tab[3][0]=Digit_Tab[time_buf1[2]/10]|Flg_Select;
 989   1              DispData_Tab[3][1]=Digit_Tab[time_buf1[2]%10]|Flg_Select;
 990   1              DispData_Tab[3][2]=Dt_XG;
 991   1              DispData_Tab[3][3]=Digit_Tab[time_buf1[3]/10]|Flg_Select;
 992   1              DispData_Tab[3][4]=Digit_Tab[time_buf1[3]%10]|Flg_Select;
 993   1              DispData_Tab[3][5]=Dt_XG;
 994   1              DispData_Tab[3][6]=Day_Tab[time_buf1[7]]|Flg_Select;
 995   1              DispData_Tab[3][7]=Day_Tab[time_buf1[7]]+1|Flg_Select;
 996   1      //      DispData_Tab[3][8]=66;
 997   1      //      DispData_Tab[3][9]= Digit_Tab[time_buf1[6]/10]|Flg_Select;
 998   1      //      DispData_Tab[3][10]=Digit_Tab[time_buf1[6]%10]|Flg_Select;
 999   1      //      DispData_Tab[3][11]=66;
1000   1      //      EnSelectDisp(1);
1001   1      //      DispData_Tab[3][12 ]=Dt_She1|Flg_Select;
1002   1      //      DispData_Tab[3][13 ]=Dt_She2|Flg_Select;
1003   1      //      DispData_Tab[3][14 ]=Dt_SZhi1|Flg_Select;
1004   1      //      DispData_Tab[3][15 ]=Dt_SZhi2|Flg_Select;                       
1005   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   4556    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =    128    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
   IDATA SIZE       =     34    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
